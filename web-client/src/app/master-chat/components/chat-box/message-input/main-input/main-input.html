<div class="main-input">
    <!-- Emoji Picker -->
    <div class="emoji-picker">
        <app-emoji-picker [reactionOnly]="false" (emojiSelected)="addEmoji($event)" (closed)="onEmojiPickerClosed()"></app-emoji-picker>
    </div>

    <!-- Input Container -->
    <div class="input-container">
        <mat-form-field appearance="outline" class="message-input-field">
            <textarea matInput #messageTextarea [(ngModel)]="message" (ngModelChange)="onMessageChange($event)"
                (keydown)="onKeyPress($event)" placeholder="Type a message..." class="message-textarea" rows="1"
                cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"></textarea>
        </mat-form-field>

        <div class="buttons">
            <button mat-icon-button class="emoji-toggle-btn" matTooltip="Insert Emoji"
                [color]="showEmojiPicker ? 'primary' : ''" (click)="toggleEmojiPicker()">
                <mat-icon>mood</mat-icon>
            </button>

            <button mat-icon-button class="send-btn" [disabled]="!message.trim()" (click)="onSendMessage()"
                matTooltip="Send message">
                <mat-icon>send</mat-icon>
            </button>
        </div>
    </div>
</div>